title: Python
id: 1517817251663
author: 不识
tags:
  - python
categories:
  - python
date: 2018-02-05 15:54:00
---
***
# 概览
***


***
# 数据类型
***

***
# 流程控制语句
***

***
# 数据结构
***

***
# 模块
***
python可以将一些函数定义在一个文件中，以便在脚本或解释器中调用，这样的文件python称为**模块**(module)。模块中的定义可以被导入到其他模块或者主模块中。

模块(module)是一个包含Python定义和语句的文件。文件名位模块名加上 **.py** 后缀。在模块中，模块名（一个字符串）可以通过全局变量__name__获取。我们可以创建一个模块文件*fibo.py*，
```python
# Fibonacci numbers module

def fib(n):    # write Fibonacci series up to n
    a, b = 0, 1
    while b < n:
        print(b, end=' ')
        a, b = b, a+b
    print()

def fib2(n):   # return Fibonacci series up to n
    result = []
    a, b = 0, 1
    while b < n:
        result.append(b)
        a, b = b, a+b
    return result
```

要想在解释器或其他模块中使用fibo模块中的定义，需要先使用如下语句导入该模块。
```python
import fibo
```
之后就可以通过模块名fibo引用该模块中的定义。
## 模块
***
模块中也可以包含像在函数中一样的可执行语句，不过这些语句一般用来做初始化模块的功能。模块中定义的语句，只会在模块被import时执行一次。
每个模块都有自己私有的符号表（symbol table），它被该模块定义的所有函数用作全局符号表。因此在一个模块中可以使用该模块全局变量，而不用担心与其他模块全局变量冲突。

模块可以导入其他模块，习惯但不强制要求需要把**import**语句放在模块的开始位置。被导入的模块名称会被存在进行导入的模块的全局变量中。

**import**语句还有一种变体
```python
>>> from fibo import fib, fib2
>>> fib(500)
1 1 2 3 5 8 13 21 34 55 89 144 233 377
```
这种写法不会将模块名称引入执行import模块的局部符号表中（如这个例子中，fibo是未定义的）

还可以使用通配符将模块中所有定义名称导入：
```python 
>>> from fibo import *
>>> fib(500)
1 1 2 3 5 8 13 21 34 55 89 144 233 377
```
这种导入会将模块中除了以下划线（ _ ）开头的之外所有的名称导入。多数情况下开发人员不会使用这种方式，因为它容易隐藏自己已定义的名称，导致糟糕的代码易读性。

> **Note**:基于效率考虑，每个模块在每次解释器会话中只会导入一次。因此，如果你更改了模块，则必须重启解释器，或者只有一个测试交互的模块的话，可以使用  importlib.reload(), 也就是 
import importlib; 
importlib.reload(modulename).

### 将模块作为脚本执行

当如下运行Python模块时
```python
python fibo.py <arguments>
```
就如同导入该模块一样，模块中的代码都会执行，除了模块的"\_\_name\_\_"会被设置为"\_\_main\_\_",这意味着你可以在模块中加入如下代码
```python
if __name__ == "__main__":
    import sys
    fib(int(sys.argv[1]))
```
这样你可以使该文件就如一个可导入模块一样作为脚本使用，因为这些代码只会在该模块作为"main"文件执行时解析命令行。
```python
$ python fibo.py 50
1 1 2 3 5 8 13 21 34
```
如果导入该模块，这些代码则不会执行。这种写法通常用来提供一个便捷的用户接口，或者用于测试目的（将模块作为脚本运行以执行单元测试）。

### 模块搜索路径
当一个名为**spam**的模块被导入，解释器首先搜索该名称的内置模块。如果没有找到，则在变量**sys.path**给定的目录列表中搜索名为**spam.py**的文件。**sys.path**从以下位置初始化：
- 包含输入脚本的目录（或者当没有文件制定时为当前目录）
- PYTHONPATH(一个目录名称列表，它与shell变量PATH有着相同的语义)
- 默认安装目录

初始化之后，Python程序可以修改sys.path。运行脚本所在的目录在搜索路径开头，位于标准库路径之前。这意味着如果标准库目录下有与该目录下的相同名字的脚本，实际执行的是该目录下脚本。

### "编译"Python文件
为了加速模块加载，Python在**\_\_pycache\_\_**目录下缓存每个模块的编译版本，并在**module.version.pyc**名称的文件中。
***
# 错误与异常
***

***
# 类
***
## 类定义
***

## 类成员
***

## 继承
***