title: Linux基础学习（三）Shell基础
id: 1493618113985
author: 不识
tags:
  - Linux
categories:
  - Linux基础
date: 2017-05-01 13:55:00
---
# Shell概述
***
Shell是一个命令行解释器，它为用户提供了一个向Linux内核发送请求以便运行程序的界面系统级程序，用户可以用Shell来启动，挂起，停止甚至编写一些程序。   
Shell还是一个功能相当强大的编程语言，易编写，易调试，灵活性较强。Shell是解释执行的脚本语言

<!-- more -->
## Shell分类
- **Bourne Shell**：从1979年起Unix就开始使用Bourne Shell，它的主文件名为sh
- **C Shell**:C Shell主要在BSD版的Unix系统中使用，其语法和C语言类似而得名

> Shell主要语法类型有上面两种，这两种语法彼此不兼容。Bourne家族主要包括sh,ksh,Bash，psh,zsh;C家族主要包括csh,tcsh   
> Linux就是使用Bash作为用户的基本Shell.Bash可以和sh互相兼容

***
# 脚本执行方式
***

## echo
echo \[选项] [输出内容] 输出后面的字符 

|选项|意义|
|----|----|
|**-e**|支持转义字符|

## 脚本编写
创建脚本文件名以.sh结尾，表示是一个脚本。
``` bash
#!/bin/bash
#this is the first program
echo -e "hello world"

```

> #!/bin/bash  标称下面是linux标准脚本，不能省略

## 脚本运行
脚本运行有两种方式
- 赋予执行权限，直接运行
``` bash
 chmod 755 hello.sh
 ./hello.sh
```
- 通过bash调用执行脚本
```bash
 bash hello.sh
```

***
# Bash的基本功能
***

## 命令别名与快捷键
### alias 
- alias  
查看系统中所有的别名  
- alias [别名]=[原命令]   
将命令命名为别名
>这种定义别名只是临时有效，系统重启后就会失效   
- vi ~/.bashrc  
将别名写入环境变量配置文件
> 这种定义别名永久生效，但需要重新登陆，如果不想重新登陆，执行source ~/.bashrc
- unalias [别名]
删除别名

### 快捷键

|快捷键|作用|
|---|----|
|**ctrl+c**|强制终止当前命令|
|**ctrl+l**|清屏|
|**ctrl+a**|光标移动到命令行首|
|**ctrl+e**|光标移动到命令行尾|
|**ctrl+u**|从光标所在位置删除到行首|
|**ctrl+z**|将命令放入后台|
|**ctrl+r**|在历史命令中搜索|

## 历史命令
### history

history \[选项][历史命令保存文件]
显示目前的历史命令  

|选项|作用|
|---|----|
|**-c**|清空历史命令|
|**-w**|将缓存中历史命令写入文件|

>显示历史命令保存文件在~/.bash_history中，每个用户都有一份，它会在每次用户注销时写入本次登陆的所有历史命令，使用history -w 可以立即将缓存中历史命令写人文件。
>历史文件会默认记录1000条历史命令，可以在系统配置文件/etc/profile中修改HISTZSIZE=1000

- 上下箭头调用以前的历史命令
- “!n”重复执行第n条历史命令
- “!!”重复执行上一条命令
- “!字符串”重复执行最后一条以该字符串开头的命令

### 命令补全
**Tab** 键根据输入命令进行命令补全

## 输出重定向

### 标准输入输出

|设备|设备文件名|文件描述符|类型|
|----|----------|----------|----|
|键盘|/dev/stdin|0|标准输入|
|显示器|/dev/sdtout|1|标准输出|
|显示器|/dev/sdterr|2|标准错误输出|
### 输出重定向
命令 [文件描述符] > | >> 文件名

|符号|意义|
|----|----|
|**>**|覆盖输出|
|**>>**|追加输出|

正确错误信息同时输出

|命令|作用|
|----|----|
|命令 > 文件 2>&1|覆盖模式 ，正确错误输出都保存到同一个文件中|
|命令 >> 文件 2>&1|追加模式，正确错误输出都保存到同一个文件中|
|命令 &> 文件|追加模式，正确错误输出都保存到同一个文件中|
|命令 &>> 文件|追加模式，正确错误输出都保存到同一个文件中|
|命令 >> 文件1 2>>文件2|把正确的输出追加到文件1，错误的输出追加到文件2|

### 输入重定向
输入重定向用的比较少

|符号|意义|
|----|----|
|**<**|把文件内容作为命令的输入|
|**<<**|把标识符之间内容作为命令的输入|

## 管道符

### 多命令

|多命令执行符|格式|作用|
|----|----|-----------|
|**;**|命令1 ; 命令2|多命令顺序执行|
|**&&**|命令1 && 命令2|逻辑与|
|**&#124;&#124;**|命令1 &#124;&#124; 命令2|逻辑或|

### 管道符

命令1 | 命令2  命令1的输出结果作为命令2的输入

## 通配符

|符号|意义|
|----|----|
|**？**|匹配任意一个字符|
|**\***|匹配0个或多个任意字符|
|**\***|匹配0个或多个任意字符|
|**[X]**|匹配括号内一个字符|
|**[X-X]**|匹配括号内给定范围内的要给字符|
|**[^]**|逻辑非|

## 其他特殊符号

|符号|作用|
|----|----|
|**''**|单引号内特殊符号都没有意义|
|**""**|双引号内特殊符号都没有意义|
|**$**|用于调用变量，使用$变量名的形式调用|
|**/**|转义符|
|**\`\`**|反引号先执行系统命令后，将结果赋值|
|**$()**|和反引号作用一样|
|**#**|表示注释|